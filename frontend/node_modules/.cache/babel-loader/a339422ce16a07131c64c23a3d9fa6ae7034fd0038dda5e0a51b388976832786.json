{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\asus\\\\Downloads\\\\PersonalFinanceTracker\\\\frontend\\\\src\\\\pages\\\\ReportsPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { Pie, Line } from \"react-chartjs-2\";\nimport { Chart as ChartJS, ArcElement, CategoryScale, LinearScale, PointElement, LineElement, Tooltip, Legend } from \"chart.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nChartJS.register(ArcElement, CategoryScale, LinearScale, PointElement, LineElement, Tooltip, Legend);\nfunction ReportsPage() {\n  _s();\n  var _report$topPaymentMet;\n  const [report, setReport] = useState(null);\n  useEffect(() => {\n    const fetchReport = async () => {\n      const token = localStorage.getItem(\"token\");\n      try {\n        const res = await axios.get(\"http://localhost:5000/api/expenses/report\", {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        setReport(res.data);\n      } catch (err) {\n        alert(\"Failed to fetch report\");\n      }\n    };\n    fetchReport();\n  }, []);\n  if (!report) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 23\n  }, this);\n  const pieData = {\n    labels: Object.keys(report.categoryWise || {}),\n    datasets: [{\n      data: Object.values(report.categoryWise || {}),\n      backgroundColor: [\"#FF6384\", \"#36A2EB\", \"#FFCE56\", \"#4BC0C0\", \"#9966FF\"]\n    }]\n  };\n  const lineData = {\n    labels: Object.keys(report.dateWise || {}),\n    datasets: [{\n      label: \"Daily Spend\",\n      data: Object.values(report.dateWise || {}),\n      fill: false,\n      borderColor: \"blue\",\n      tension: 0.3\n    }]\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: \"20px\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\uD83D\\uDCCA Reports\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Total Spent:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), \" \\u20B9\", report.totalSpent]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Top Category:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), \" \", report.topCategory]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n        children: \"Top Payment Methods:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), \" \", (_report$topPaymentMet = report.topPaymentMethods) === null || _report$topPaymentMet === void 0 ? void 0 : _report$topPaymentMet.join(\", \")]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: \"400px\",\n        margin: \"auto\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Category Wise Spending\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Pie, {\n        data: pieData\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        width: \"600px\",\n        margin: \"auto\",\n        marginTop: \"40px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Daily Spending Trend\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Line, {\n        data: lineData\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 5\n  }, this);\n}\n_s(ReportsPage, \"uThrKXSG04i7dx6XISsv8ngoHQ0=\");\n_c = ReportsPage;\nexport default ReportsPage;\nvar _c;\n$RefreshReg$(_c, \"ReportsPage\");","map":{"version":3,"names":["React","useEffect","useState","axios","Pie","Line","Chart","ChartJS","ArcElement","CategoryScale","LinearScale","PointElement","LineElement","Tooltip","Legend","jsxDEV","_jsxDEV","register","ReportsPage","_s","_report$topPaymentMet","report","setReport","fetchReport","token","localStorage","getItem","res","get","headers","Authorization","data","err","alert","children","fileName","_jsxFileName","lineNumber","columnNumber","pieData","labels","Object","keys","categoryWise","datasets","values","backgroundColor","lineData","dateWise","label","fill","borderColor","tension","style","padding","totalSpent","topCategory","topPaymentMethods","join","width","margin","marginTop","_c","$RefreshReg$"],"sources":["C:/Users/asus/Downloads/PersonalFinanceTracker/frontend/src/pages/ReportsPage.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Pie, Line } from \"react-chartjs-2\";\r\nimport {\r\n  Chart as ChartJS,\r\n  ArcElement,\r\n  CategoryScale,\r\n  LinearScale,\r\n  PointElement,\r\n  LineElement,\r\n  Tooltip,\r\n  Legend,\r\n} from \"chart.js\";\r\n\r\nChartJS.register(\r\n  ArcElement,\r\n  CategoryScale,\r\n  LinearScale,\r\n  PointElement,\r\n  LineElement,\r\n  Tooltip,\r\n  Legend\r\n);\r\n\r\nfunction ReportsPage() {\r\n  const [report, setReport] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const fetchReport = async () => {\r\n      const token = localStorage.getItem(\"token\");\r\n      try {\r\n        const res = await axios.get(\r\n          \"http://localhost:5000/api/expenses/report\",\r\n          {\r\n            headers: { Authorization: `Bearer ${token}` },\r\n          }\r\n        );\r\n        setReport(res.data);\r\n      } catch (err) {\r\n        alert(\"Failed to fetch report\");\r\n      }\r\n    };\r\n    fetchReport();\r\n  }, []);\r\n\r\n  if (!report) return <div>Loading...</div>;\r\n\r\n  const pieData = {\r\n    labels: Object.keys(report.categoryWise || {}),\r\n    datasets: [\r\n      {\r\n        data: Object.values(report.categoryWise || {}),\r\n        backgroundColor: [\r\n          \"#FF6384\",\r\n          \"#36A2EB\",\r\n          \"#FFCE56\",\r\n          \"#4BC0C0\",\r\n          \"#9966FF\",\r\n        ],\r\n      },\r\n    ],\r\n  };\r\n\r\n  const lineData = {\r\n    labels: Object.keys(report.dateWise || {}),\r\n    datasets: [\r\n      {\r\n        label: \"Daily Spend\",\r\n        data: Object.values(report.dateWise || {}),\r\n        fill: false,\r\n        borderColor: \"blue\",\r\n        tension: 0.3,\r\n      },\r\n    ],\r\n  };\r\n\r\n  return (\r\n    <div style={{ padding: \"20px\" }}>\r\n      <h2>ðŸ“Š Reports</h2>\r\n\r\n      <p>\r\n        <strong>Total Spent:</strong> â‚¹{report.totalSpent}\r\n      </p>\r\n      <p>\r\n        <strong>Top Category:</strong> {report.topCategory}\r\n      </p>\r\n      <p>\r\n        <strong>Top Payment Methods:</strong>{\" \"}\r\n        {report.topPaymentMethods?.join(\", \")}\r\n      </p>\r\n\r\n      <div style={{ width: \"400px\", margin: \"auto\" }}>\r\n        <h3>Category Wise Spending</h3>\r\n        <Pie data={pieData} />\r\n      </div>\r\n\r\n      <div style={{ width: \"600px\", margin: \"auto\", marginTop: \"40px\" }}>\r\n        <h3>Daily Spending Trend</h3>\r\n        <Line data={lineData} />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ReportsPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}